pragma solidity ^0.8.0;

contract CheckpointSupplyChain {
    struct Checkpoint {
        string location;
        uint timestamp;
    }

    struct Product {
        uint id;
        string name;
        Checkpoint[] checkpoints;
    }

    mapping(uint => Product) public products;

    function addCheckpoint(uint _id, string memory _location) public {
        products[_id].checkpoints.push(Checkpoint(_location, block.timestamp));
    }

    function getProductInfo(uint _id) public view returns (string memory name, Checkpoint[] memory checkpoints) {
        return (products[_id].name, products[_id].checkpoints);
    }
}
